:root{
  --page-max: 1120px;

  /* 8px rhythm */
  --s1: 4px;
  --s2: 8px;
  --s3: 12px;
  --s4: 16px;
  --s5: 24px;
  --s6: 32px;

  --font: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;

  --text: #111827;
  --muted: #6b7280;

  --bg: #ffffff;
  --border: #e5e7eb;
  --panel: #f9fafb;

  --primary: #111827;

  --r-sm: 10px;
  --r-md: 12px;
  --r-lg: 14px;

  --shadow: 0 1px 1px rgba(17,24,39,0.04), 0 6px 18px rgba(17,24,39,0.06);
}

*{ box-sizing:border-box; }

body{
  margin:0;
  font-family: var(--font);
  color: var(--text);
  background: var(--bg);
  line-height: 1.5;
  font-size: 15px;
}

h1,h2,h3{
  margin: 0 0 var(--s2) 0;
  line-height: 1.25;
  letter-spacing: -0.2px;
}
h1{ font-size: 18px; font-weight: 900; }
h2{ font-size: 16px; font-weight: 900; }
h3{ font-size: 14px; font-weight: 900; }

p{ margin: 0 0 var(--s3) 0; }
.subtle{ color: var(--muted); font-size: 13px; }

button, input, textarea{ font-family: var(--font); }

textarea, input{
  width:100%;
  border: 1px solid var(--border);
  border-radius: var(--r-sm);
  padding: 10px 12px;
  font-size: 14px;
  color: var(--text);
  background: #fff;
}
textarea{ resize: vertical; line-height: 1.45; }

button{
  border: 1px solid var(--border);
  border-radius: var(--r-sm);
  padding: 10px 12px;
  cursor: pointer;
  background: #fff;
  color: var(--text);
  font-weight: 900;
  transition: transform 80ms ease, box-shadow 120ms ease;
}
button:hover{ box-shadow: var(--shadow); }
button:active{ transform: translateY(1px); }
button.primary{
  background: var(--primary);
  color: #fff;
  border-color: var(--primary);
}
button.secondary{ background:#fff; }
button.small{
  padding: 8px 10px;
  font-size: 12px;
  font-weight: 900;
}

/* Top bar */
.topbar{
  border-bottom:1px solid var(--border);
  padding: var(--s4);
  background:#fff;
}
.brand{
  max-width: var(--page-max);
  margin: 0 auto;
  display:flex;
  gap: var(--s4);
  align-items:center;
}
.logo{
  font-weight: 900;
  padding: 10px 12px;
  border: 1px solid var(--border);
  border-radius: var(--r-md);
  background: #fff;
}
.title{ flex:1; min-width: 240px; }
.title p{ margin: var(--s1) 0 0 0; color: var(--muted); font-size: 13px; }

.headerBtns{
  display:flex;
  gap: var(--s2);
  align-items:center;
}

/* Link buttons (Payhip nav) */
.linkBtn{
  display:inline-block;
  padding: 10px 12px;
  border: 1px solid var(--border);
  border-radius: var(--r-sm);
  background:#fff;
  color: var(--text);
  text-decoration:none;
  font-weight:900;
  font-size: 13px;
}
.linkBtn:hover{ box-shadow: var(--shadow); }

/* Layout */
.layout{
  max-width: var(--page-max);
  margin: 0 auto;
  padding: var(--s5) var(--s4);
}
.card{
  border:1px solid var(--border);
  border-radius: var(--r-lg);
  background: var(--panel);
  padding: var(--s5);
  box-shadow: var(--shadow);
}

/* 2 columns */
.twoCol{
  display:grid;
  grid-template-columns: 1.15fr 0.85fr;
  gap: var(--s5);
  align-items:start;
}
@media (max-width: 980px){
  .twoCol{ grid-template-columns: 1fr; }
}

.panel{
  border:1px solid var(--border);
  border-radius: var(--r-lg);
  background:#fff;
  padding: var(--s5);
  box-shadow: var(--shadow);
}

.templateBox{
  margin-top: var(--s4);
  border:1px solid var(--border);
  border-radius: var(--r-lg);
  background: #fff;
  padding: var(--s5);
  box-shadow: var(--shadow);
}

.templateHeader{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: var(--s3);
}
.templateBtns{
  display:flex;
  gap: var(--s2);
  flex-wrap:wrap;
  justify-content:flex-end;
}

.actionsRow{
  display:flex;
  gap: var(--s3);
  align-items:center;
  margin-top: var(--s4);
  flex-wrap:wrap;
}

.scoreBox{
  margin-left:auto;
  padding: 10px 12px;
  border:1px solid var(--border);
  border-radius: var(--r-md);
  background:#fff;
  color: var(--muted);
  font-size: 13px;
  min-width: 120px;
  text-align:center;
}

.hint{
  margin-top: var(--s3);
  color: var(--muted);
  font-size: 13px;
}

/* Feedback */
.feedbackCard{
  border:1px solid var(--border);
  border-radius: var(--r-lg);
  background:#fff;
  padding: var(--s5);
  box-shadow: var(--shadow);
}

.feedbackTop{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--s4);
  margin-bottom: var(--s4);
}
.metric{
  border:1px solid var(--border);
  border-radius: var(--r-lg);
  padding: var(--s4);
  background: var(--panel);
}
.metricLabel{
  color: var(--muted);
  font-size: 12px;
  font-weight: 900;
}
.metricValue{
  font-size: 20px;
  font-weight: 900;
  margin-top: var(--s1);
}

.feedbackBox{
  margin-top: var(--s2);
  padding: var(--s4);
  border:1px solid var(--border);
  border-radius: var(--r-lg);
  background: var(--panel);
  font-size:14px;
  white-space: pre-wrap;
  line-height: 1.55;
}
.feedbackBox:empty{ display:none; }

.modelWrap{
  margin-top: var(--s4);
  border:1px solid var(--border);
  border-radius: var(--r-lg);
  padding: var(--s4);
  background:#fff;
}
.modelAnswer{
  margin: var(--s3) 0 0 0;
  white-space: pre-wrap;
  color: var(--muted);
  font-size: 13px;
  line-height: 1.55;
}

/* Gate */
.gate{
  position:fixed;
  inset:0;
  background:rgba(17,24,39,0.55);
  display:flex;
  align-items:center;
  justify-content:center;
  padding: var(--s5);
  z-index:9999;
}
.gateCard{
  width:min(560px, 100%);
  background:#fff;
  border-radius: var(--r-lg);
  border:1px solid var(--border);
  padding: var(--s5);
  box-shadow: var(--shadow);
}
.gateBrand{
  display:flex;
  gap: var(--s3);
  align-items:center;
  margin-bottom: var(--s2);
}
.gateLabel{
  display:block;
  margin-top: var(--s4);
  font-weight: 900;
  font-size: 13px;
}
.gateRow{
  display:grid;
  grid-template-columns:1fr 110px;
  gap: var(--s3);
  margin-top: var(--s2);
}
.gateMsg{
  margin-top: var(--s3);
  color: var(--muted);
  font-size:13px;
  min-height:18px;
}
.gateHint{
  margin-top: var(--s4);
  color: var(--muted);
  font-size:12px;
}

/* Footer */
.footer{
  border-top:1px solid var(--border);
  padding: var(--s5);
  text-align:center;
  color: var(--muted);
  font-size:12px;
}
